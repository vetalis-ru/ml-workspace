1. –û–±—â–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø—Ä–æ–µ–∫—Ç–µ
–ù–∞–∑–≤–∞–Ω–∏–µ: ML Learning Monitor (–õ–ú)

–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ: –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ "—Å–æ–Ω—å" (–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å –∏—Å—Ç–µ–∫—à–∏–º –¥–æ—Å—Ç—É–ø–æ–º) –≤ —Å–∏—Å—Ç–µ–º–µ MemberLux (–ú–õ)

–°—Ç–∞—Ç—É—Å: –ë–∞–∑–æ–≤—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –≥–æ—Ç–æ–≤ (–Ω–∞—Å—Ç—Ä–æ–π–∫–∏ email + AJAX —Ç–∞–±–ª–∏—Ü–∞), —Ç—Ä–µ–±—É–µ—Ç —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è

–¢–µ—Ö—Å—Ç–µ–∫: WordPress 6.0+, PHP 7.4+, MemberLux, MySQL

2. –ö–ª—é—á–µ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å–∏—Å—Ç–µ–º—ã
–ö–æ–º–ø–æ–Ω–µ–Ω—Ç	–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ
ML_Learning_Monitor	–û—Å–Ω–æ–≤–Ω–æ–π –∫–ª–∞—Å—Å, –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø–ª–∞–≥–∏–Ω–∞
MLM_Ajax_Handler	–û–±—Ä–∞–±–æ—Ç–∫–∞ AJAX –∑–∞–ø—Ä–æ—Å–æ–≤ (–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–ª–∏ —Ç–æ–ª—å–∫–æ —á—Ç–æ)
MLM_Database	–†–∞–±–æ—Ç–∞ —Å –ë–î, SQL –∑–∞–ø—Ä–æ—Å—ã –¥–ª—è –≤—ã–±–æ—Ä–∫–∏ "—Å–æ–Ω—å"
MLM_Renderer	–ì–µ–Ω–µ—Ä–∞—Ü–∏—è HTML —Ç–∞–±–ª–∏—Ü –∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
MLM_Term_Fields	–†–µ–Ω–¥–µ—Ä–∏–Ω–≥ –ø–æ–ª–µ–π –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –£–î
MLM_Email_Fields	–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ email —à–∞–±–ª–æ–Ω–æ–≤
MLM_Assets	–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ CSS/JS —Ñ–∞–π–ª–æ–≤
3. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
3.1 –¢–∞–±–ª–∏—Ü—ã –ë–î:
wp_memberlux_term_keys - –∫–ª—é—á–∏ –¥–æ—Å—Ç—É–ø–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∫ –£–î

–ü–æ–ª—è: id, user_id, term_id, date_registered, date_end, is_unlimited, is_banned

wp_termmeta - –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –õ–ú –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –£–î

wp_users, wp_usermeta - –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

3.2 –ú–µ—Ç–∞–ø–æ–ª—è —Ç–µ—Ä–º–∏–Ω–æ–≤ (—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –õ–ú):
php
// –í–∫–ª—é—á–µ–Ω–∏–µ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –¥–ª—è –£–î
mlm_enabled = 0/1

// –ù–∞—Å—Ç—Ä–æ–π–∫–∏ 3—Ö –ø–∏—Å–µ–º —Å—Ç—É–¥–µ–Ω—Ç—É
mlm_email_1_days = int
mlm_email_1_subject = string
mlm_email_1_body = text
// ... –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ –¥–ª—è email 2, 3

// –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–∏—Å—å–º–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É
mlm_admin_days_after_last = int
mlm_admin_email = string
mlm_admin_subject = string
mlm_admin_body = text
4. –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
4.1 –û—Å–Ω–æ–≤–Ω—ã–µ —Ö—É–∫–∏ WordPress:
php
// –†–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ–º—ã–µ —Ö—É–∫–∏:
add_action('wpm-levels_edit_form_fields', [...], 20, 1);  // –ü–æ–ª—è –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –£–î
add_action('edited_wpm-levels', [...], 20, 2);           // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø–æ–ª–µ–π
add_action('admin_enqueue_scripts', [...]);              // –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∞—Å—Å–µ—Ç–æ–≤
add_action('wp_ajax_mlm_get_sleepers', [...]);           // AJAX endpoint
4.2 –ê–ª–≥–æ—Ä–∏—Ç–º –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è "—Å–æ–Ω—å":
–í—ã–±–æ—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π date_end –¥–ª—è –∑–∞–¥–∞–Ω–Ω–æ–≥–æ –£–î

–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –¥–∞—Ç–µ: date_end –º–µ–∂–¥—É date_from –∏ date_to

–ò—Å–∫–ª—é—á–µ–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π: –Ω–µ—Ç –∞–∫—Ç–∏–≤–Ω—ã—Ö –∫–ª—é—á–µ–π (is_unlimited=1 –∏–ª–∏ date_end >= —Å–µ–≥–æ–¥–Ω—è)

–ò—Å–∫–ª—é—á–µ–Ω–∏–µ –∑–∞–±–∞–Ω–µ–Ω–Ω—ã—Ö: is_banned = 0

4.3 –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:
Nonce –ø—Ä–æ–≤–µ—Ä–∫–∏: mlm_save_nonce, mlm_ajax_nonce

–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤: current_user_can('manage_options')

–°–∞–Ω–∏—Ç–∏–∑–∞—Ü–∏—è: sanitize_text_field(), sanitize_email(), wp_kses_post()

Escaping: esc_html(), esc_attr(), esc_textarea()

5. –¢–µ–∫—É—â–∏–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è
‚úÖ –ß—Ç–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:
–ù–∞—Å—Ç—Ä–æ–π–∫–∞ email —à–∞–±–ª–æ–Ω–æ–≤ (3 –¥–ª—è —Å—Ç—É–¥–µ–Ω—Ç–æ–≤ + 1 –¥–ª—è –∞–¥–º–∏–Ω–∞)

AJAX —Ç–∞–±–ª–∏—Ü–∞ "—Å–æ–Ω—å" —Å –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π –ø–æ –¥–∞—Ç–∞–º

–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –Ω–∞ —É—Ä–æ–≤–Ω–µ –∫–∞–∂–¥–æ–≥–æ –£–î (—Ç–µ—Ä–º–∞ wpm-levels)

–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å MemberLux —á–µ—Ä–µ–∑ —Ç–∞–±–ª–∏—Ü—É memberlux_term_keys

‚ö†Ô∏è –ß—Ç–æ –ù–ï —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ (–ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è):
–†–µ–∞–ª—å–Ω–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞ email (—Ç–æ–ª—å–∫–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —à–∞–±–ª–æ–Ω–æ–≤)

–°–∏—Å—Ç–µ–º–∞ –ª–æ–≥–æ–≤ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã—Ö –ø–∏—Å–µ–º

–ö—Ä–æ–Ω-–∑–∞–¥–∞—á–∏ –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –æ—Ç–ø—Ä–∞–≤–∫–∏

–ê–¥–º–∏–Ω-—Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏

–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å mbl-certificates (—á–µ–∫–µ—Ä –Ω–∞–ª–∏—á–∏—è —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤)

6. –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω—ã–µ –∑–∞–¥–∞—á–∏ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
–í—ã—Å–æ–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç:
–†–µ–∞–ª–∏–∑–∞—Ü–∏—è –∫—Ä–æ–Ω-–æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞ –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –ø–∏—Å–µ–º –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é

–°–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã –ª–æ–≥–æ–≤ wp_mlm_email_logs

–î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ö—É–∫–æ–≤ mlm_before_email_send, mlm_after_email_send

–°—Ä–µ–¥–Ω–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç:
–°—Ç—Ä–∞–Ω–∏—Ü–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –≤ –∞–¥–º–∏–Ω–∫–µ WordPress

–ú–∞—Å—Å–æ–≤–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞ —Ç–µ—Å—Ç–æ–≤—ã—Ö –ø–∏—Å–µ–º

–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è SQL –∑–∞–ø—Ä–æ—Å–æ–≤ (–∏–Ω–¥–µ–∫—Å—ã –Ω–∞ date_end, term_id)

–ù–∏–∑–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç:
WYSIWYG —Ä–µ–¥–∞–∫—Ç–æ—Ä –¥–ª—è —à–∞–±–ª–æ–Ω–æ–≤ email

–≠–∫—Å–ø–æ—Ä—Ç –≤ CSV —Å–ø–∏—Å–∫–∞ "—Å–æ–Ω—å"

–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å mbl-certificates API

7. –ü—Ä–∏–º–µ—Ä —à–∞–±–ª–æ–Ω–∞ –∫–æ–º–º–∏—Ç–∞ –¥–ª—è –Ω–æ–≤—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π
–ó–∞–≥–æ–ª–æ–≤–æ–∫ (EN):
[ML Learning Monitor] Add email scheduling system

–û–ø–∏—Å–∞–Ω–∏–µ (RU):


### –ß—Ç–æ –¥–æ–±–∞–≤–ª–µ–Ω–æ:
- [x] –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω –∫—Ä–æ–Ω-–æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –ø–∏—Å–µ–º
- [x] –°–æ–∑–¥–∞–Ω–∞ —Ç–∞–±–ª–∏—Ü–∞ –ª–æ–≥–æ–≤ wp_mlm_email_logs
- [x] –î–æ–±–∞–≤–ª–µ–Ω—ã —Ö—É–∫–∏ mlm_before/after_email_send

### –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏:
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è WP-Cron –¥–ª—è –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –æ—Ç–ø—Ä–∞–≤–æ–∫ —Å —Å—Ç–∞—Ç—É—Å–∞–º–∏
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å MemberLux —á–µ—Ä–µ–∑ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ SQL –∑–∞–ø—Ä–æ—Å—ã

### –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:
- [x] –ü—Ä–æ–≤–µ—Ä–∫–∞ nonce –¥–ª—è –≤—Å–µ—Ö AJAX –≤—ã–∑–æ–≤–æ–≤
- [x] –°–∞–Ω–∏—Ç–∏–∑–∞—Ü–∏—è –≤—Å–µ—Ö email –¥–∞–Ω–Ω—ã—Ö
- [x] –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞ (manage_options)

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:
- [x] –û—Ç–ø—Ä–∞–≤–∫–∞ —Ç–µ—Å—Ç–æ–≤—ã—Ö –ø–∏—Å–µ–º —Ä–∞–±–æ—Ç–∞–µ—Ç
- [x] –õ–æ–≥–∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –∑–∞–ø–∏—Å—ã–≤–∞—é—Ç—Å—è
- [x] –ö—Ä–æ–Ω-–∑–∞–¥–∞—á–∏ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é
üîç –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —ç—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç:
–î–ª—è –Ω–æ–≤–æ–≥–æ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞: –ò–∑—É—á–∏—Ç—å —Ä–∞–∑–¥–µ–ª—ã 1-4 –¥–ª—è –ø–æ–Ω–∏–º–∞–Ω–∏—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã

–î–ª—è –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –∑–∞–¥–∞—á: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ä–∞–∑–¥–µ–ª 6 (–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã)

–î–ª—è –∫–æ–Ω—Ç—Ä–æ–ª—è –∫–∞—á–µ—Å—Ç–≤–∞: –ü—Ä–æ–≤–µ—Ä—è—Ç—å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Ä–∞–∑–¥–µ–ª—É 4.3 (–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å)

–î–ª—è –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–∏: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–µ—Ä–º–∏–Ω—ã –∏–∑ —Ä–∞–∑–¥–µ–ª–∞ 1

üìÅ –¢—Ä–µ–±—É—é—Ç—Å—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è:
–ß—Ç–æ–±—ã —Å–¥–µ–ª–∞—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ã–º, –Ω—É–∂–Ω–æ –ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å:

class-mlm-database.php - SQL –∑–∞–ø—Ä–æ—Å—ã –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è

class-mlm-renderer.php - –≥–µ–Ω–µ—Ä–∞—Ü–∏—è HTML –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞

mlm-admin.js - —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ –ª–æ–≥–∏–∫–∞ (AJAX –≤—ã–∑–æ–≤—ã)

–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–æ—á–∫–∏ —Å mbl-certificates

